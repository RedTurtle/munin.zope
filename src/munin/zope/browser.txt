This file provides a few simple functional tests making sure the views used
for the various munin plugins work as expected.

At first we shouldn't have the necessary rights to access the views:

  >>> browser = self.getBrowser()

  >>> browser.open('http://nohost/@@munin.zope.plugins/zopecache')
  Traceback (most recent call last):
  ...
  HTTPError: ... Unauthorized

  >>> browser.open('http://nohost/@@munin.zope.plugins/zopethreads')
  Traceback (most recent call last):
  ...
  HTTPError: ... Unauthorized

  >>> browser.open('http://nohost/@@munin.zope.plugins/zodbactivity')
  Traceback (most recent call last):
  ...
  HTTPError: ... Unauthorized

  >>> browser.open('http://nohost/@@munin.zope.plugins/zopememory')
  Traceback (most recent call last):
  ...
  HTTPError: ... Unauthorized

Becoming a manager should help:

  >>> self.setRoles(['Manager'])

  >>> browser.open('http://nohost/@@munin.zope.plugins/zopecache')
  >>> print browser.contents
  total_objs:...0
  total_objs_memory:0.0
  target_number:0.0

  >>> browser.open('http://nohost/@@munin.zope.plugins/zopethreads')
  >>> print browser.contents
  total_threads:1.0
  free_threads:0.0

  >>> browser.open('http://nohost/@@munin.zope.plugins/zodbactivity')
  >>> print browser.contents
  total_load_count:0.0
  total_store_count:0.0
  total_connections:0.0

The memory plugin only works on Linux at the moment, so testing of it's
output is skipped for now.  However, calling the view itself should work:

  >>> browser.open('http://nohost/@@munin.zope.plugins/zopememory')
  >>> print browser.contents
  Vm...
